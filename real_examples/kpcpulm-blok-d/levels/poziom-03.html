<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piętro III - Kujawsko-Pomorskie Centrum Pulmonologii</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }
        .container {
            max-width: 100%;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            display: flex;
        }

        /* ── SIDEBAR ────────────────────────── */
        .sidebar {
            width: 420px;
            min-width: 420px;
            flex-shrink: 0;
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px 15px;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            font-size: 13px;
        }
        .sidebar-title {
            color: #60a5fa;
            font-size: 1.15em;
            font-weight: 700;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #334155;
        }

        /* ── NAV TREE ───────────────────────── */
        .nav-tree {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .nav-node {
            position: relative;
            margin: 1px 0;
        }

        /* Toggle arrow */
        .toggle {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            font-size: 9px;
            color: #64748b;
            cursor: pointer;
            border-radius: 3px;
            transition: all 0.15s ease;
            vertical-align: middle;
            flex-shrink: 0;
        }
        .toggle:hover { color: #e2e8f0; background: #334155; }
        .toggle-spacer { display: inline-block; width: 20px; flex-shrink: 0; }

        /* Expanded state */
        .has-children:not(.collapsed) > .toggle {
            transform: rotate(90deg);
        }
        .has-children.collapsed > .nav-tree {
            display: none;
        }

        /* Links */
        .nav-node a {
            color: #cbd5e1;
            text-decoration: none;
            padding: 5px 8px;
            border-radius: 4px;
            display: inline-block;
            transition: all 0.15s ease;
            vertical-align: middle;
            line-height: 1.4;
            word-wrap: break-word;
        }
        .nav-node a:hover { color: #fff; background: #334155; }

        /* Group labels (non-clickable) */
        .nav-group-label {
            color: #94a3b8;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85em;
            letter-spacing: 0.5px;
            padding: 8px 8px 4px;
            display: inline-block;
            vertical-align: middle;
        }

        /* Depth indentation */
        .nav-depth-0 > .nav-node { padding-left: 0; }
        .nav-depth-1 > .nav-node { padding-left: 16px; }
        .nav-depth-2 > .nav-node { padding-left: 32px; }
        .nav-depth-3 > .nav-node { padding-left: 48px; }
        .nav-depth-4 > .nav-node { padding-left: 64px; }

        /* Depth-0 items (Inwestycja, Budynek) */
        .nav-d0 > a {
            font-weight: 700;
            font-size: 1.05em;
            color: #f1f5f9;
            padding: 8px 10px;
            background: #334155;
            border-left: 3px solid #3b82f6;
            margin: 4px 0;
            width: calc(100% - 25px);
        }
        .nav-d0 > a:hover { background: #475569; }

        /* Depth-1 items (Strefy, Levels, etc.) */
        .nav-d1 > a {
            font-weight: 600;
            color: #e2e8f0;
        }
        .nav-d1.nav-group > .nav-group-label {
            margin-top: 10px;
        }

        /* Depth-2 items (individual spaces, zones) */
        .nav-d2 > a {
            font-size: 0.92em;
            color: #94a3b8;
        }
        .nav-d2 > a:hover { color: #e2e8f0; }

        /* Header nav items (within-document) */
        .nav-header > a {
            font-size: 0.88em;
            color: #64748b;
            font-style: italic;
        }
        .nav-header > a:hover { color: #cbd5e1; }

        /* ── CONTENT AREA ───────────────────── */
        .content {
            flex: 1;
            padding: 40px 60px;
            max-width: 1000px;
        }
        h1 {
            color: #1e293b;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 15px;
            margin-bottom: 30px;
            font-size: 2em;
        }
        h2 {
            color: #334155;
            margin-top: 35px;
            margin-bottom: 15px;
            font-size: 1.6em;
        }
        h3 {
            color: #475569;
            margin-top: 25px;
            margin-bottom: 12px;
            font-size: 1.3em;
        }
        h4 {
            color: #64748b;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        ul, ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }
        li { margin-bottom: 8px; }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #ddd;
        }
        th {
            background: #3b82f6;
            color: white;
            font-weight: 600;
        }
        tr:nth-child(even) { background: #f9f9f9; }
        code {
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        pre {
            background: #f1f5f9;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #3b82f6;
        }
        pre code { background: none; padding: 0; }

        /* ── PRINT BUTTON ───────────────────── */
        .print-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #3b82f6;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
            transition: all 0.3s;
            z-index: 100;
        }
        .print-btn:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }

        /* ── INHERITANCE PANEL ──────────────── */
        .inh-toggle {
            position: fixed;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            background: #3b82f6;
            color: white;
            border: none;
            padding: 15px 8px;
            border-radius: 8px 0 0 8px;
            font-size: 13px;
            cursor: pointer;
            z-index: 999;
            writing-mode: vertical-rl;
            letter-spacing: 1px;
            box-shadow: -2px 0 8px rgba(0,0,0,0.15);
        }
        .inh-toggle:hover { background: #2563eb; padding: 15px 12px; }

        .inh-panel {
            position: fixed;
            right: -420px;
            top: 0;
            width: 400px;
            height: 100vh;
            background: #fff;
            border-left: 3px solid #3b82f6;
            box-shadow: -4px 0 20px rgba(0,0,0,0.15);
            transition: right 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }
        .inh-panel.open { right: 0; }
        .inh-panel-header {
            background: #1e293b;
            color: white;
            padding: 18px 20px;
            font-weight: 700;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1;
        }
        .inh-panel-close {
            cursor: pointer;
            font-size: 1.5em;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        .inh-panel-close:hover { opacity: 1; }
        .inh-panel-body { padding: 20px; }
        .inh-panel-body h4 {
            color: #1e293b;
            margin: 20px 0 10px;
            padding-bottom: 6px;
            border-bottom: 2px solid #e2e8f0;
            font-size: 1em;
        }
        .inh-panel-body h4:first-child { margin-top: 0; }
        .inh-row {
            padding: 10px 12px;
            background: #f8fafc;
            margin-bottom: 4px;
            border-radius: 6px;
            border-left: 3px solid #3b82f6;
            font-size: 0.9em;
        }
        .inh-row strong {
            color: #334155;
            display: block;
            font-size: 0.85em;
            margin-bottom: 2px;
        }
        .inh-row .val { color: #1e293b; }
        .inh-empty {
            color: #94a3b8;
            font-style: italic;
            padding: 30px 20px;
            text-align: center;
        }
        .inh-hint {
            margin-top: 15px;
            padding: 12px;
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            font-size: 0.85em;
            border-radius: 0 6px 6px 0;
            color: #1e40af;
        }

        /* ── PRINT / RESPONSIVE ─────────────── */
        @media print {
            .sidebar, .print-btn, .inh-toggle, .inh-panel { display: none; }
            .content { padding: 20px; max-width: 100%; }
        }
        @media (max-width: 900px) {
            .container { flex-direction: column; }
            .sidebar { width: 100%; min-width: 100%; height: auto; position: relative; max-height: 50vh; }
            .content { padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="container">
        
        <div class="content">
            <h1>Poziom: III Piętro - Blok D</h1><p><h2 id="section-311-informacje-podstawowe">Informacje podstawowe</h2><p><strong>Typ encji:</strong> Level
<strong>ID:</strong> LVL-KPCPULM-D-PIETRO-03
<strong>Nazwa:</strong> III Piętro (Third Floor)
<strong>Budynek:</strong> <code>BLD-KPCPULM-BLOK-D</code>
<strong>Numer poziomu:</strong> 3
<strong>Rzędna:</strong> ~82,4-83,8 m n.p.m.</p><p><h2 id="section-311-opis">Opis</h2><p>Poziom III piętra zawiera dwa oddziały łóżkowe pulmonologiczne: Oddział III (30 łóżek) i Oddział IV (35 łóżek). Oddziały są wyposażone w sale chorych (1-4 łóżkowe), izolatki, gabinety diagnostyczno-zabiegowe, pomieszczenia dla personelu medycznego oraz zaplecze medyczne. Układ funkcjonalny jest analogiczny do II piętra.</p><p><h2 id="section-311-dane-techniczne">Dane techniczne</h2><p><h3 id="section-311-powierzchnie">Powierzchnie</h3>
<ul><li><strong>Powierzchnia użytkowa poziomu:</strong> 1 367,60 m²</li>
<li><strong>Liczba pomieszczeń:</strong> 88 (4.1 - 4.88)</li>
<li><strong>Oddział łóżkowy 3:</strong> 802,86 m² (30 łóżek)</li>
<li><strong>Oddział łóżkowy 4:</strong> 477,01 m² (35 łóżek)</li></p><p><h3 id="section-311-wysokoci">Wysokości</h3>
<li><strong>Wysokość kondygnacji:</strong> 4,20 m</li>
<li><strong>Wysokość pomieszczeń w świetle:</strong> 3,00 m (typowa dla sal chorych i pomieszczeń pomocniczych)</li></p><p><h3 id="section-311-konstrukcja">Konstrukcja</h3>
<li><strong>Ściany zewnętrzne:</strong> bloczki SILKA gr. 24cm, ocieplone wełną mineralną gr. 15cm</li>
<li><strong>Ściany wewnętrzne konstrukcyjne:</strong> bloczki SILKA gr. 24cm</li>
<li><strong>Ściany działowe:</strong> bloczki SILKA gr. 12cm lub gr. 18cm</li>
<li><strong>Stropy:</strong> żelbetowe monolityczne</li>
<li><strong>Dach:</strong> płaski, wentylowany, kryty papą (nad III piętrem)</li></p><p><h2 id="section-311-waciwoci-dziedziczone-dla-przestrzeni">Właściwości dziedziczone dla przestrzeni</h2><p><h3 id="section-311-wykoczenie-typowe-sale-chorych-i-pomieszczenia-medyczne">Wykończenie typowe (sale chorych i pomieszczenia medyczne)</h3><p><h4 id="section-311-podogi">Podłogi</h4>
<li><strong>Materiał:</strong> wykładzina PCV medyczna, jednorodna, bezspoinowa</li>
<li><strong>Parametry:</strong></li>
  - Klasa ścieralności: 34 (intensywne użytkowanie komercyjne)
  - Antypoślizgowa: R10
  - Odporna na dezynfekcję (aldehydy, środki chlorowe)
  - Cicha (redukcja hałasu kroków)
  - Bezprogowa (dostępność dla wózków)
<li><strong>Kolory:</strong> jasne, ciepłe (beż, kremowy, jasny szary)</li></p><p><h4 id="section-311-ciany">Ściany</h4>
<li><strong>Materiał:</strong></li>
  - Sale chorych: tynk gładki malowany farbą zmywalną, od podłogi pas ochronny (PVC) do wysokości 1,2m
  - Łazienki pacjentów: płytki ceramiczne do sufitu
  - Gabinety zabiegowe: płytki ceramiczne do wysokości 2,0m, powyżej tynk malowany farbą zmywalną
  - Korytarze: tynk malowany farbą zmywalną, osłony antyzderzeń (poręcze) do wysokości 0,9m
<li><strong>Parametry:</strong></li>
  - Jasne kolory (biały, kremowy, pastele)
  - Łatwość czyszczenia i dezynfekcji
  - Odporność na zarysowania i uderzenia (korytarze)</p><p><h4 id="section-311-sufity">Sufity</h4>
<li><strong>Materiał:</strong> sufit podwieszany modułowy (płyty 60×60cm)</li>
<li><strong>Parametry:</strong></li>
  - Biały, matowy
  - Akustyczny (redukcja hałasu)
  - Dostęp do instalacji (rewizje)
  - Oświetlenie wbudowane LED</p><p><h3 id="section-311-warunki-rodowiskowe">Warunki środowiskowe</h3><p><h4 id="section-311-temperatura">Temperatura</h4>
<li><strong>Sale chorych:</strong> 22-24°C (regulowana indywidualnie dla komfortu pacjentów)</li>
<li><strong>Gabinety zabiegowe:</strong> 22-24°C</li>
<li><strong>Izolatki:</strong> 22-24°C (kontrola niezależna)</li>
<li><strong>Korytarze:</strong> 20-22°C</li>
<li><strong>Pomieszczenia personelu:</strong> 20-22°C</li></p><p><h4 id="section-311-wilgotno">Wilgotność</h4>
<li><strong>Sale chorych:</strong> 40-60% RH</li>
<li><strong>Izolatki:</strong> 40-60% RH (kontrolowana)</li></p><p><h4 id="section-311-wentylacja">Wentylacja</h4>
<li><strong>Sale chorych standardowe:</strong></li>
  - Nawiewno-wywiewna
  - 6-8 wymian/h
  - Możliwość otwierania okien (wentylacja naturalna wspomagająca)
<li><strong>Izolatki:</strong></li>
  - Podciśnienie: -10 Pa względem korytarza
  - 12 wymian/h
  - 100% powietrze wywiewne (bez recyrkulacji)
  - Filtr HEPA na wylocie
<li><strong>Gabinety zabiegowe (grupa 1):</strong></li>
  - Nadciśnienie: +5 Pa względem korytarza
  - 10 wymian/h
  - Filtracja F7
<li><strong>Korytarze:</strong></li>
  - 4-6 wymian/h
  - Ciśnienie neutralne</p><p><h4 id="section-311-owietlenie">Oświetlenie</h4>
<li><strong>Naturalne:</strong> okna w salach chorych (widok na zewnątrz, dostęp światła dziennego)</li>
<li><strong>Sztuczne:</strong></li>
  - Sale chorych: 300 lx (dzień), 50 lx (noc, nad łóżkiem regulowane), lampki do czytania
  - Gabinety zabiegowe: 500 lx, lampa zabiegowa 5000 lx
  - Korytarze: 200 lx (dzień), 50 lx (noc)
  - Izolatki: 300 lx (dzień), 50 lx (noc)</p><p><h3 id="section-311-czysto-powietrza">Czystość powietrza</h3>
<li><strong>Sale chorych standardowe:</strong> filtracja F7 (bez wymagań szczególnych)</li>
<li><strong>Izolatki:</strong> filtr HEPA H13 na wylocie (ochrona przed rozprzestrzenianiem patogenów)</li>
<li><strong>Gabinety zabiegowe grupa 1:</strong> filtracja F7</li></p><p><h2 id="section-311-funkcje-gwne">Funkcje główne</h2><p><h3 id="section-311-oddzia-kowy-3-80286-m-30-ek">Oddział łóżkowy 3 (802,86 m², 30 łóżek)</h3>
<li>12 sal chorych (1-3 łóżkowe): 4.22, 4.25, 4.27, 4.29, 4.31, 4.33, 4.35, 4.37, 4.39, 4.41, 4.43, 4.45</li>
<li>1 izolatka (1 łóżko): 4.48</li>
<li>12 łazienek pacjentów (przy każdej sali)</li>
<li>Gabinet diagnostyczno-zabiegowy (grupa 1): 4.24</li>
<li>PPZP (Punkt Przygotowania Żywności Pacjentów): 4.21</li>
<li>Pokoje lekarzy (2): 4.12, 4.13</li>
<li>Pokój ordynatora: 4.14</li>
<li>Sekretariat: 4.15</li>
<li>Pokoje oddziałowej (2): 4.16, 4.17</li>
<li>Sekretariat: 4.18</li>
<li>Pokój ordynatora: 4.19</li>
<li>Kuchnia oddziałowa: 4.4</li>
<li>Magazyn czysty: 4.52</li>
<li>Brudownik: 4.50</li>
<li>Magazyn sprzętu: 4.8</li>
<li>Pomieszczenie sprzątaczki: 4.6</li>
<li>Pokój socjalny personelu: 4.53</li>
<li>Łazienka oddziałowa: 4.51</li>
<li>WC pracowników (damski, męski): 4.5, 4.7</li>
<li>WC niepełnosprawne: 4.9</li>
<li>Komunikacja: 4.3, 4.20</li></p><p><strong>Liczba łóżek:</strong> 30 (12 sal × 2-3 łóżka + 1 izolatka × 1 łóżko)</p><p><h3 id="section-311-oddzia-kowy-4-47701-m-35-ek">Oddział łóżkowy 4 (477,01 m², 35 łóżek)</h3>
<li>14 sal chorych (1-3 łóżkowe): 4.58, 4.60, 4.62, 4.64, 4.66, 4.68, 4.70, 4.72, 4.75, 4.80 (niepełnosprawni), 4.82, 4.85</li>
<li>1 izolatka (1 łóżko): 4.58</li>
<li>14 łazienek pacjentów (przy każdej sali)</li>
<li>Gabinet zabiegowy (grupa 1): 4.87</li>
<li>PPZP: 4.88</li>
<li>Magazyn czysty: 4.74</li>
<li>Brudownik: 4.79</li>
<li>Pokój socjalny personelu: 4.55</li>
<li>Łazienka oddziałowa: 4.84</li>
<li>Komunikacja: 4.54</li></p><p><strong>Liczba łóżek:</strong> 35 (14 sal × 2-3 łóżka + 1 izolatka × 1 łóżko)</p><p><h2 id="section-311-strefy">Strefy</h2><p><h3 id="section-311-strefa-poarowa">Strefa pożarowa</h3>
<li><strong>ID:</strong> <code>ZONE-FIRE-ZL-IV</code></li>
<li><strong>Klasa:</strong> ZL IV</li></p><p><h3 id="section-311-strefy-medyczne-wg-iec-60364-7-710">Strefy medyczne wg IEC 60364-7-710</h3><p><h4 id="section-311-grupa-1-kontakt-z-aparatur-medyczn-aplikacja-zewntrznawewntrzna">Grupa 1 (kontakt z aparaturą medyczną, aplikacja zewnętrzna/wewnętrzna)</h4>
<li>Gabinet zabiegowy Oddział 3: 4.24</li>
<li>Izolatka Oddział 3: 4.48</li>
<li>Izolatka Oddział 4: 4.58</li>
<li>Gabinet zabiegowy Oddział 4: 4.87</li></p><p><strong>Wymagania grupa 1:</strong>
<li>Zasilanie awaryjne z agregatu (przełączenie < 15s)</li>
<li>Wyrównanie potencjałów</li>
<li>Instalacje gazów medycznych (tlen, ssanie)</li></p><p><h4 id="section-311-grupa-0-bez-kontaktu-z-aparatur-aplikacyjn">Grupa 0 (bez kontaktu z aparaturą aplikacyjną)</h4>
<li>Sale chorych standardowe (bez zabiegów inwazyjnych)</li>
<li>Pomieszczenia pomocnicze, administracyjne</li></p><p><h3 id="section-311-strefy-funkcjonalne">Strefy funkcjonalne</h3>
<li><strong>Strefa hospitalizacji:</strong> sale chorych, łazienki pacjentów</li>
<li><strong>Strefa diagnostyczno-zabiegowa:</strong> gabinety zabiegowe, izolatki</li>
<li><strong>Strefa wsparcia medycznego:</strong> PPZP, brudowniki, magazyny czyste</li>
<li><strong>Strefa administracyjna:</strong> pokoje lekarzy, ordynatorów, oddziałowych, sekretariaty</li>
<li><strong>Strefa personelu:</strong> pokoje socjalne, kuchnie oddziałowe, WC, łazienki oddziałowe</li></p><p><h2 id="section-311-dostp">Dostęp</h2><p><h3 id="section-311-pacjenci">Pacjenci</h3>
<li><strong>Przyjęcie:</strong> dźwigami szpitalnymi z parteru (po diagnostyce) lub z SOR</li>
<li><strong>Odwiedziny:</strong> przez klatki schodowe i dźwigi, godziny odwiedzin ustalone przez oddział</li>
<li><strong>Transport wewnątrzszpitalny:</strong> przez korytarze i dźwigi (badania, konsultacje)</li></p><p><h3 id="section-311-personel-medyczny">Personel medyczny</h3>
<li><strong>Dostęp:</strong> klatki schodowe, dźwigi, szatnie w piwnicy</li>
<li><strong>Stacja pielęgniarska:</strong> centralne miejsce w każdym oddziale (widoczność sal chorych)</li></p><p><h3 id="section-311-materiay-i-ywno">Materiały i żywność</h3>
<li><strong>Dostawa żywności:</strong> dźwig towarowy do PPZP</li>
<li><strong>Dostawa leków:</strong> z apteki (I piętro) dźwigiem lub schodami</li>
<li><strong>Materiały medyczne:</strong> z magazynów czystych</li></p><p><h2 id="section-311-wymagania-regulacyjne">Wymagania regulacyjne</h2><p><h3 id="section-311-bezpieczestwo-elektryczne-iec-60364-7-710">Bezpieczeństwo elektryczne (IEC 60364-7-710)</h3>
<li><strong>Grupa 1:</strong> gabinety zabiegowe, izolatki (zasilanie awaryjne < 15s, wyrównanie potencjałów)</li>
<li><strong>Grupa 0:</strong> sale chorych, pomieszczenia pomocnicze (zasilanie awaryjne dla oświetlenia korytarzy)</li>
<li>Instalacje gazów medycznych w każdej sali chorego (tlen, ssanie)</li></p><p><h3 id="section-311-przepisy-dot-oddziaw-szpitalnych">Przepisy dot. oddziałów szpitalnych</h3>
<li>Powierzchnia na 1 łóżko: min. 6,5 m² (sale wieloosobowe), min. 9,0 m² (izolatki)</li>
<li>Łazienka przy każdej sali chorego</li>
<li>Dostępność dla osób niepełnosprawnych (sala 4.80, łazienka 4.81)</li>
<li>Wentylacja mechaniczna z możliwością otwierania okien</li>
<li>Oświetlenie naturalne w salach chorych (okna)</li></p><p><h3 id="section-311-przepisy-dot-izolatek">Przepisy dot. izolatek</h3>
<li>Wentylacja z podciśnieniem (-10 Pa)</li>
<li>Filtr HEPA na wylocie</li>
<li>Śluza (przedsionek) przed wejściem</li>
<li>Łazienka w obrębie izolatki</li>
<li>Sygnalizacja wizualna i dźwiękowa (pacjent → pielęgniarka)</li></p><p><h3 id="section-311-przepisy-bhp-i-ewakuacja">Przepisy BHP i ewakuacja</h3>
<li>Oznakowanie dróg ewakuacyjnych</li>
<li>Oświetlenie awaryjne korytarzy</li>
<li>System sygnalizacji pożarowej</li>
<li>Drzwi dymoszczelne (klatki schodowe)</li>
<li>Instrukcje ewakuacji poziomej (dla pacjentów leżących)</li></p><p><h3 id="section-311-przepisy-sanitarne">Przepisy sanitarne</h3>
<li>Dezynfekcja sal chorych codziennie</li>
<li>Dezynfekcja terminalna po wypisie pacjenta</li>
<li>Segregacja odpadów medycznych (brudowniki)</li>
<li>Kontrola zakażeń szpitalnych</li></p><p><h3 id="section-311-dach-nad-iii-pitrem">Dach (nad III piętrem)</h3>
<li>Dostęp techniczny dla konserwacji</li>
<li>Obróbki blacharskie</li>
<li>Odprowadzenie wody deszczowej (rynny wewnętrzne)</li>
<li>Wentylacja dachowa (wywietrzniki, nasady kominowe)</li></p><p><h2 id="section-311-przestrzenie-na-poziomie">Przestrzenie na poziomie</h2><p>Lista 88 pomieszczeń (pliki w katalogu <code>/spaces/pietro-03/</code>):</p><p><strong>Komunikacja główna:</strong>
<li>4.1 - Klatka schodowa (22,91 m²)</li>
<li>4.2 - Komunikacja (41,90 m²)</li></p><p><strong>Oddział łóżkowy 3 (802,86 m²):</strong>
<li>4.3-4.53 - Sale chorych (12 + 1 izolatka), gabinet zabiegowy, pokoje lekarzy, administracja, zaplecze</li></p><p><strong>Oddział łóżkowy 4 (477,01 m²):</strong>
<li>4.54-4.88 - Sale chorych (14 + 1 izolatka), gabinet zabiegowy, zaplecze</li></p><p><strong>Klatka schodowa:</strong>
<li>4.77 - Klatka schodowa (22,92 m²)</li></p><p><h2 id="section-311-metadane">Metadane</h2><p><li><strong>Poziom funkcjonalny:</strong> Hospitalizacja (oddziały łóżkowe)</li>
<li><strong>Dostęp publiczny:</strong> Ograniczony (odwiedzający w godzinach odwiedzin)</li>
<li><strong>Godziny odwiedzin:</strong> 15:00-18:00 (przykładowo, zgodnie z regulaminem oddziału)</li>
<li><strong>Godziny pracy medycznej:</strong> 24/7 (pielęgniarki dyżurne), 7:00-19:00 (lekarze, zabiegi planowane)</li>
<li><strong>Profil medyczny:</strong> Pulmonologia</li>
<li><strong>Najwyższa kondygnacja:</strong> Tak (dach płaski powyżej)</li></ul><p>---</p><p><strong>Wersja schematu SBM:</strong> v0.1.3
<strong>Data utworzenia dokumentu:</strong> 2026-02-23
</p>
        </div>
    </div>
    <button class="print-btn" onclick="window.print()">Drukuj / PDF</button>

    <button class="inh-toggle" id="inhToggle">Dziedziczenie</button>
    <div class="inh-panel" id="inhPanel">
        <div class="inh-panel-header">
            <span>Właściwości Dziedziczone</span>
            <span class="inh-panel-close" id="inhClose">&times;</span>
        </div>
        <div class="inh-panel-body" id="inhBody">
            <p class="inh-empty">Przewiń do sekcji pomieszczenia, aby zobaczyć dziedziczone właściwości z kondygnacji.</p>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // ── TREE EXPAND/COLLAPSE ──
        document.querySelectorAll('.toggle').forEach(function(icon) {
            icon.addEventListener('click', function(e) {
                e.stopPropagation();
                this.parentElement.classList.toggle('collapsed');
            });
        });

        document.querySelectorAll('.nav-node a').forEach(function(link) {
            link.addEventListener('click', function(e) {
                var li = this.parentElement;
                if (li.classList.contains('has-children') && li.classList.contains('collapsed')) {
                    li.classList.remove('collapsed');
                    // Let navigation happen
                }
            });
        });

        // Start: expand depth 0, collapse everything else
        document.querySelectorAll('.has-children').forEach(function(el) {
            if (!el.classList.contains('nav-d0')) {
                el.classList.add('collapsed');
            } else {
                el.classList.remove('collapsed');
            }
        });

        // ── INHERITANCE PANEL ──
        var inhToggle = document.getElementById('inhToggle');
        var inhPanel = document.getElementById('inhPanel');
        var inhClose = document.getElementById('inhClose');
        var inhBody = document.getElementById('inhBody');
        var isOpen = false;

        inhToggle.addEventListener('click', function() {
            isOpen = !isOpen;
            inhPanel.classList.toggle('open', isOpen);
            if (isOpen) updateInheritancePanel();
        });

        inhClose.addEventListener('click', function() {
            isOpen = false;
            inhPanel.classList.remove('open');
        });

        // Update panel based on which section is in view
        var debounce = null;
        window.addEventListener('scroll', function() {
            if (!isOpen) return;
            clearTimeout(debounce);
            debounce = setTimeout(updateInheritancePanel, 150);
        });

        function updateInheritancePanel() {
            var sections = document.querySelectorAll('.doc-section[data-inherited-height]');
            var best = null;
            var bestDist = Infinity;

            sections.forEach(function(sec) {
                var rect = sec.getBoundingClientRect();
                var dist = Math.abs(rect.top);
                if (rect.top < window.innerHeight && rect.bottom > 0 && dist < bestDist) {
                    best = sec;
                    bestDist = dist;
                }
            });

            if (best) {
                var h1 = best.querySelector('h1');
                var name = h1 ? h1.textContent : 'Pomieszczenie';
                var height = best.dataset.inheritedHeight;
                var floor = best.dataset.inheritedFloor;
                var walls = best.dataset.inheritedWalls;
                var ceiling = best.dataset.inheritedCeiling;

                var html = '<h4>' + name + '</h4>';
                html += '<div class="inh-hint">Poniższe wartości są dziedziczone z dokumentu kondygnacji i obowiązują dla tego pomieszczenia, chyba że nadpisane powyżej.</div>';
                html += '<h4>Z kondygnacji</h4>';

                if (height) {
                    html += '<div class="inh-row"><strong>Wysokość w świetle</strong><span class="val">' + height + '</span></div>';
                }
                if (floor) {
                    html += '<div class="inh-row"><strong>Podłogi (typowe)</strong><span class="val">' + floor + '</span></div>';
                }
                if (walls) {
                    html += '<div class="inh-row"><strong>Ściany (typowe)</strong><span class="val">' + walls + '</span></div>';
                }
                if (ceiling) {
                    html += '<div class="inh-row"><strong>Sufity (typowe)</strong><span class="val">' + ceiling + '</span></div>';
                }

                if (!height && !floor && !walls && !ceiling) {
                    html += '<p class="inh-empty">Brak danych o dziedziczeniu z kondygnacji.</p>';
                }

                inhBody.innerHTML = html;
            } else {
                inhBody.innerHTML = '<p class="inh-empty">Przewiń do sekcji pomieszczenia, aby zobaczyć dziedziczone właściwości z kondygnacji.</p>';
            }
        }
    });
    </script>
</body>
</html>